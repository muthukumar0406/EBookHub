<div class="reader-container" *ngIf="pdfSrc">
    <div class="reader-header">
        <button routerLink="/library" class="back-btn">
            <span>←</span> Back to Library
        </button>
        <h3>{{ book?.title }}</h3>
    </div>

    <ngx-extended-pdf-viewer [src]="pdfSrc" height="90vh">
    </ngx-extended-pdf-viewer>
</div>

<div *ngIf="!pdfSrc && !errorMessage" class="loading">
    <div class="loading-spinner"></div>
    <p>Loading book...</p>
    <p class="debug-hint" style="font-size: 0.8rem; opacity: 0.6; margin-top: 2rem;">
        Trying to fetch book ID: {{ bookId }}
    </p>
</div>

<div *ngIf="errorMessage" class="error-container">
    <p>⚠️ {{ errorMessage }}</p>
    <button (click)="ngOnInit()" class="btn-primary">Retry</button>
    <button routerLink="/library" class="btn-secondary">Back to Library</button>
</div>